{"ast":null,"code":"import MessagesStore from '../store/messages';\nexport default class MessageService {\n  static async connect() {\n    const socket = new WebSocket('ws://localhost:8000/chat/ws');\n    socket.onopen = () => {\n      console.log('ws/ connected');\n    };\n    socket.onerror = err => {\n      console.log(err);\n    };\n    socket.onmessage = message => {\n      console.log(message);\n    };\n    socket.addEventListener(\"message\", e => {\n      console.log(e);\n    });\n    socket.onclose = e => {\n      console.log(e);\n    };\n    MessagesStore.socket = socket;\n  }\n  static async sendMessage(matchId, destinationId, senderId, msgText) {\n    const msg = {\n      match_id: matchId,\n      to_id: destinationId,\n      from_id: senderId,\n      text: msgText\n    };\n    console.log(msg);\n    MessagesStore.socket.send(JSON.stringify({\n      action: \"CREATE\",\n      message: msg\n    }));\n  }\n}","map":{"version":3,"names":["MessagesStore","MessageService","connect","socket","WebSocket","onopen","console","log","onerror","err","onmessage","message","addEventListener","e","onclose","sendMessage","matchId","destinationId","senderId","msgText","msg","match_id","to_id","from_id","text","send","JSON","stringify","action"],"sources":["C:/Users/Александр/Documents/Web/Mir 1/mir_frontend/src/services/userMsg.js"],"sourcesContent":["import MessagesStore from '../store/messages'\r\n\r\nexport default class MessageService\r\n{\r\n    static async connect()\r\n    {\r\n        const socket = new WebSocket('ws://localhost:8000/chat/ws');\r\n\r\n        socket.onopen = () => {\r\n            console.log('ws/ connected')\r\n        }\r\n\r\n        socket.onerror = (err) => {\r\n            console.log(err)\r\n        }\r\n\r\n        socket.onmessage = (message) => {\r\n            console.log(message)\r\n        }\r\n\r\n        socket.addEventListener(\"message\", (e) => \r\n        {\r\n            console.log(e);\r\n        })\r\n\r\n        socket.onclose = (e) => {\r\n            console.log(e);\r\n        }\r\n\r\n        MessagesStore.socket = socket;\r\n    }\r\n\r\n    static async sendMessage(matchId, destinationId, senderId, msgText)\r\n    {\r\n        const msg = {\r\n            match_id: matchId,\r\n            to_id: destinationId,\r\n            from_id: senderId,\r\n            text: msgText\r\n        }\r\n\r\n        console.log(msg)    \r\n\r\n        MessagesStore.socket.send(JSON.stringify({\r\n            action: \"CREATE\",\r\n            message: msg\r\n        }))\r\n    }\r\n\r\n\r\n}"],"mappings":"AAAA,OAAOA,aAAa,MAAM,mBAAmB;AAE7C,eAAe,MAAMC,cAAc,CACnC;EACI,aAAaC,OAAOA,CAAA,EACpB;IACI,MAAMC,MAAM,GAAG,IAAIC,SAAS,CAAC,6BAA6B,CAAC;IAE3DD,MAAM,CAACE,MAAM,GAAG,MAAM;MAClBC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAChC,CAAC;IAEDJ,MAAM,CAACK,OAAO,GAAIC,GAAG,IAAK;MACtBH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;IACpB,CAAC;IAEDN,MAAM,CAACO,SAAS,GAAIC,OAAO,IAAK;MAC5BL,OAAO,CAACC,GAAG,CAACI,OAAO,CAAC;IACxB,CAAC;IAEDR,MAAM,CAACS,gBAAgB,CAAC,SAAS,EAAGC,CAAC,IACrC;MACIP,OAAO,CAACC,GAAG,CAACM,CAAC,CAAC;IAClB,CAAC,CAAC;IAEFV,MAAM,CAACW,OAAO,GAAID,CAAC,IAAK;MACpBP,OAAO,CAACC,GAAG,CAACM,CAAC,CAAC;IAClB,CAAC;IAEDb,aAAa,CAACG,MAAM,GAAGA,MAAM;EACjC;EAEA,aAAaY,WAAWA,CAACC,OAAO,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,OAAO,EAClE;IACI,MAAMC,GAAG,GAAG;MACRC,QAAQ,EAAEL,OAAO;MACjBM,KAAK,EAAEL,aAAa;MACpBM,OAAO,EAAEL,QAAQ;MACjBM,IAAI,EAAEL;IACV,CAAC;IAEDb,OAAO,CAACC,GAAG,CAACa,GAAG,CAAC;IAEhBpB,aAAa,CAACG,MAAM,CAACsB,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC;MACrCC,MAAM,EAAE,QAAQ;MAChBjB,OAAO,EAAES;IACb,CAAC,CAAC,CAAC;EACP;AAGJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}